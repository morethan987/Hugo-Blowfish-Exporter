/* ========== Markdown HTML Base (WeChat-safe v2) ========== */
:root {
  --md-font-sans: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei";
  --md-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;

  --md-fg: #1f2328;
  --md-fg-muted: #5a6169;
  --md-bg: #ffffff;
  --md-border: #e6e8eb;
  --md-accent: #2f81f7;

  --md-code-bg: #0b0c10;
  --md-code-fg: #e6edf3;
  --md-inline-code-bg: #f6f8fa;

  --md-radius: 12px;
  --md-shadow: 0 6px 18px rgba(0,0,0,.06);
  --md-maxw: 72ch;
}

/* 容器 */
.md-doc{
  color: var(--md-fg);
  background: var(--md-bg);
  font-family: var(--md-font-sans);
  line-height: 1.65;
  font-size: 16px;
  max-width: var(--md-maxw);
  margin: 0 auto;
  padding: 2rem 1rem;
}

/* 标题 */
.md-doc h1,.md-doc h2,.md-doc h3,.md-doc h4,.md-doc h5,.md-doc h6{
  line-height:1.25; font-weight:800; margin:2rem 0 .75rem;
}
.md-doc h1{font-size:2rem;}
.md-doc h2{font-size:1.6rem; border-bottom:1px solid var(--md-border); padding-bottom:.4rem;}
.md-doc h3{font-size:1.3rem;}
.md-doc h4{font-size:1.1rem;}
.md-doc h5,.md-doc h6{font-size:1rem; color:var(--md-fg-muted);}

/* 段落/分隔线 */
.md-doc p{margin:0 0 1rem;}
.md-doc hr{border:0; height:1px; background: var(--md-border); margin:1.5rem 0;}

/* 列表 */
.md-doc ul,.md-doc ol{padding-left:1.5em; margin:0 0 1rem;}
.md-doc li{margin:.25rem 0;}

/* 链接与内联强调 */
.md-doc a{color:var(--md-accent); text-decoration:none;}
.md-doc a:hover{text-decoration:underline;}
.md-doc code{font-family:var(--md-font-mono); font-size:.95em; background:var(--md-inline-code-bg); padding:.15em .35em; border-radius:6px;}
.md-doc mark{background:#fff6a6;}
.md-doc s{opacity:.85; text-decoration:line-through;}
.md-doc strong{font-weight:700;}
.md-doc em{font-style:italic;}

/* 引用（朴素，公众号友好） */
.md-doc blockquote{
  margin:1.2rem 0;
  padding:.9rem 1rem;
  border-left:6px solid #cfe1ff;
  background:#f7faff;
  border-radius: var(--md-radius);
  box-shadow: var(--md-shadow);
}

/* 代码块（无伪元素行号） */
.md-doc pre.code-block, .md-doc pre[class*="language-"]{
  background: var(--md-code-bg);
  color: var(--md-code-fg);
  padding: 1rem 1.1rem;
  border-radius: var(--md-radius);
  border: 1px solid var(--md-border);
  overflow: auto;
  box-shadow: var(--md-shadow);
  margin:1.25rem 0;
}
.md-doc pre code{background:transparent; padding:0; display:block;}

/* 数学 */
/* Inline math: 与文本同行、可横向滚动保护、对齐基线 */
.md-doc .math-inline{
  display:inline-flex;
  vertical-align:middle;     /* 让公式与文字中线对齐 */
  line-height:1;             /* 避免额外空隙 */
  max-width:100%;
  overflow-x:auto;           /* 长公式不挤爆布局 */
  overflow-y:hidden;
  -webkit-overflow-scrolling:touch;
  padding-bottom:2px;        /* 与文本下缘留一点点呼吸 */
  color:inherit;             /* 继承文字颜色，实现主题一致 */
}
.md-doc .math-inline > svg{
  display:inline;            /* 保持内联表现 */
  height:1.1em;              /* 尺度接近文字大小，可按需微调 */
  width:auto;
  flex-shrink:0;
}

/* Block math: 居中展示、上下留白、可横向滚动 */
.md-doc .math-block{
  display:block;
  text-align:center;
  max-width:100%;
  overflow-x:auto;
  overflow-y:hidden;
  -webkit-overflow-scrolling:touch;
  padding:0.5em 0;
  margin:0.5em 0;
  color:inherit;
}
.md-doc .math-block > svg{
  display:inline-block;
  height:2.2ex;              /* 与常见渲染保持相近视觉高度 */
  width:auto;
  max-width:300vw;           /* 允许在容器内横向滚动 */
  flex-shrink:0;
}

/* 让 SVG 走当前文本色（与深浅色主题兼容） */
.md-doc .math-inline svg, .md-doc .math-block svg{
  fill:currentColor;
  stroke:currentColor;
}


/* 表格（去 sticky / 高级特性） */
.md-doc .table-wrap{overflow-x:auto; border:1px solid var(--md-border); border-radius: var(--md-radius); box-shadow: var(--md-shadow);}
.md-doc table{width:100%; border-collapse:separate; border-spacing:0; min-width:560px;}
.md-doc thead th{
  text-align:left; background:#f3f4f6; padding:.6rem .8rem; border-bottom:1px solid var(--md-border); font-weight:700;
}
.md-doc tbody td{padding:.6rem .8rem; border-top:1px solid var(--md-border);}
.md-doc tbody tr:nth-child(odd){background:#fafbfc;}

/* 图片/嵌入 */
.md-doc figure{margin:1.2rem 0;}
.md-doc img{
  max-width:85%;
  height:auto;
  border-radius:10px;
  box-shadow: var(--md-shadow);
  display: block;         /* 确保图片是块级元素 */
  margin: 0 auto;         /* 水平居中 */
}
.md-doc figure>figcaption{color:var(--md-fg-muted); font-size:.9em; text-align:center; margin-top:.5rem;}
.md-doc .embed{border:1px dashed var(--md-border); padding:.8rem 1rem; border-radius: var(--md-radius);}

/* 脚注 */
.md-doc .footnote-ref{vertical-align:super; font-size:.8em;}
.md-doc .footnotes{margin-top:2rem; padding-top:1rem; border-top:1px dashed var(--md-border); color:var(--md-fg-muted); font-size:.95em;}

/* Front-matter（可改为 display:none 隐藏） */
.md-doc .frontmatter{
  margin:1rem 0 1.5rem;
  padding:.8rem 1rem;
  background:#f6f8fa;
  border:1px solid var(--md-border);
  border-radius: var(--md-radius);
  font-family:var(--md-font-mono);
  white-space:pre-wrap;
}

/* callout基础外观 */
/* 基础：尽量贴近你给的内联样式 */
.md-doc .c-callout {
  box-sizing: border-box;
  margin: 0 0 1em;
  padding: 1em 1em 1em 2em;
  border-left: 4px solid #0F4C81;
  border-radius: 6px;
  background: #f7f7f7;
  color: rgba(0, 0, 0, 0.6);
  box-shadow: 0 4px 6px rgba(0,0,0,0.05);
  text-align: left;
  line-height: 1.75;
  font-family: Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, "PingFang SC",
               Cambria, Cochin, Georgia, Times, "Times New Roman", serif;
  font-size: 14px;
  font-style: normal; /* 正文正常 */
}

/* 标题行：保持正常字形，蓝色，与图标并排 */
.md-doc .c-callout, .md-doc .c-title {
  margin: 0 0 .5em;
  display: flex;
  align-items: center;
  gap: .5em;
  color: #478be6;
  font-weight: 500;
}

/* 图标填充色与大小 */
.md-doc .c-callout, .md-doc .c-icon {
  fill: #478be6;
  width: 16px;
  height: 16px;
  flex: 0 0 auto;
}

/* 正文 */
.md-doc .c-callout, .md-doc .c-text {
  margin: 0;
  letter-spacing: .1em;
}

/* 可选：细分不同语义（若后续需要多个类型） */
.md-doc .c-callout.c-note { border-left-color: #0F4C81; }
